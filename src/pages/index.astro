---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Hero from '../components/Hero.astro';
import HowItWorks from '../components/HowItWorks.astro';
import AIExpertsSection from '../components/AIExpertsSection.astro';
import MoroccanFeatures from '../components/MoroccanFeatures.astro';
import HealthTracking from '../components/HealthTracking.astro';
import AudioProgram from '../components/AudioProgram.astro';
import StatsSection from '../components/StatsSection.astro';
import Pricing from '../components/Pricing.astro';
import FAQ from '../components/FAQ.astro';
import FinalCTA from '../components/FinalCTA.astro';
import Footer from '../components/Footer.astro';
import WhatsIncluded from '../components/WhatsIncluded.astro';
import BlogHighlights from '../components/BlogHighlights.astro';
import { defaultLang, useTranslations } from '../i18n';

const lang = defaultLang;
const t = useTranslations(lang);
---

<Layout
  title={t.meta.title}
  description={t.meta.description}
  keywords={t.meta.keywords}
  lang={lang}
>
  <Header t={t} lang={lang} />

  <main>
    <!-- 1. Hero: Guarantee message + motivation CTA (ABOVE FOLD - render immediately) -->
    <Hero t={t} lang={lang} />

    <!-- 2. Moroccan Features: Your favorite recipes (carousel) -->
    <MoroccanFeatures t={t} lang={lang} />

    <!-- BELOW FOLD SECTIONS - defer rendering for faster FCP/LCP -->
    <!-- content-visibility: auto skips rendering until scrolled into view -->

    <div class="defer-render">
      <!-- 3. What's Included: DC Fitness-inspired process section -->
      <WhatsIncluded t={t} />
    </div>

    <div class="defer-render">
      <!-- 4. Pricing: Get your personalized plan -->
      <Pricing t={t} lang={lang} />
    </div>

    <div class="defer-render">
      <!-- 4. How It Works: Simple as 1-2-3 -->
      <HowItWorks t={t} lang={lang} />
    </div>

    <div class="defer-render">
      <!-- 5. Health Tracking: 17+ indicators -->
      <HealthTracking t={t} />
    </div>

    <div class="defer-render">
      <!-- 6. Audio Program: Strengthen your willpower -->
      <AudioProgram t={t} />
    </div>

    <div class="defer-render">
      <!-- 7. AI + Experts: Unified section - We adapt to YOUR life -->
      <AIExpertsSection t={t} />
    </div>

    <div class="defer-render">
      <!-- 8. Stats: Social proof -->
      <StatsSection t={t} />
    </div>

    <div class="defer-render">
      <!-- 9. FAQ -->
      <FAQ t={t} />
    </div>

    <div class="defer-render">
      <!-- 10. Blog Highlights: Featured articles -->
      <BlogHighlights t={t} lang={lang} />
    </div>

    <div class="defer-render">
      <!-- 11. Final CTA -->
      <FinalCTA t={t} lang={lang} />
    </div>
  </main>

  <Footer t={t} lang={lang} />
</Layout>
