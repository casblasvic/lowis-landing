---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import { useTranslations, getPathWithLang, type Language } from '../../i18n';

const lang: Language = 'fr-FR';
const t = useTranslations(lang);
const terms = t.terms;

const COMPANY = {
  name: 'Organicare SARLAU',
  address: 'Casablanca, Morocco',
  email: 'contact@lowis.app',
  lastUpdated: '2025-01-10'
};
---

<Layout
  title={`${terms.title} | LOWIS`}
  description={terms.sections.intro.content}
  lang={lang}
>
  <Header t={t} lang={lang} />

  <main class="min-h-screen pt-24 pb-16">
    <div class="max-w-4xl mx-auto px-4 sm:px-6">
      <!-- Header -->
      <div class="mb-12 text-center">
        <h1 class="text-4xl md:text-5xl font-bold mb-4 gradient-text">{terms.title}</h1>
        <p class="text-text-secondary">
          {terms.lastUpdated}: {COMPANY.lastUpdated}
        </p>
      </div>

      <!-- Content -->
      <div class="prose prose-invert prose-orange max-w-none space-y-12">

        <!-- Introduction -->
        <section>
          <h2 class="text-2xl font-bold text-white mb-4">{terms.sections.intro.title}</h2>
          <p class="text-text-secondary leading-relaxed">{terms.sections.intro.content}</p>
        </section>

        <!-- Definitions -->
        <section>
          <h2 class="text-2xl font-bold text-white mb-4">{terms.sections.definitions.title}</h2>
          <div class="space-y-3">
            {terms.sections.definitions.items.map((item: { term: string; definition: string }) => (
              <div class="bg-dark-surface rounded-lg p-4 border border-dark-border">
                <h4 class="font-semibold text-primary-orange mb-1">{item.term}</h4>
                <p class="text-text-secondary text-sm">{item.definition}</p>
              </div>
            ))}
          </div>
        </section>

        <!-- Eligibility -->
        <section>
          <h2 class="text-2xl font-bold text-white mb-4">{terms.sections.eligibility.title}</h2>
          <p class="text-text-secondary leading-relaxed mb-4">{terms.sections.eligibility.content}</p>
          <ul class="space-y-2">
            {terms.sections.eligibility.items.map((item: string) => (
              <li class="text-text-secondary flex items-start gap-2">
                <span class="material-symbols-outlined text-sm text-green-500 mt-1">check</span>
                {item}
              </li>
            ))}
          </ul>
        </section>

        <!-- Services -->
        <section>
          <h2 class="text-2xl font-bold text-white mb-4">{terms.sections.services.title}</h2>
          <p class="text-text-secondary leading-relaxed mb-4">{terms.sections.services.intro}</p>
          <div class="grid gap-4">
            {terms.sections.services.items.map((item: { service: string; description: string }) => (
              <div class="bg-dark-surface rounded-lg p-4 border border-dark-border">
                <h4 class="font-semibold text-white mb-1">{item.service}</h4>
                <p class="text-text-secondary text-sm">{item.description}</p>
              </div>
            ))}
          </div>
        </section>

        <!-- Subscription -->
        <section>
          <h2 class="text-2xl font-bold text-white mb-4">{terms.sections.subscription.title}</h2>
          <p class="text-text-secondary leading-relaxed mb-4">{terms.sections.subscription.intro}</p>
          <ul class="space-y-2 mb-4">
            {terms.sections.subscription.items.map((item: string) => (
              <li class="text-text-secondary flex items-start gap-2">
                <span class="material-symbols-outlined text-primary-orange mt-0.5">arrow_right</span>
                {item}
              </li>
            ))}
          </ul>
          <div class="bg-dark-surface rounded-xl p-6 border border-dark-border space-y-3">
            <p class="text-text-secondary"><strong class="text-white">Résiliation:</strong> {terms.sections.subscription.cancellation}</p>
            <p class="text-text-secondary"><strong class="text-white">Remboursement:</strong> {terms.sections.subscription.refund}</p>
          </div>
        </section>

        <!-- AI Usage Policy - Important for France -->
        <section>
          <h2 class="text-2xl font-bold text-white mb-4">Utilisation de l'Intelligence Artificielle</h2>
          <div class="bg-blue-500/10 border border-blue-500/30 rounded-xl p-6">
            <p class="text-text-secondary leading-relaxed mb-4">
              L'accès aux fonctionnalités d'intelligence artificielle est inclus dans votre abonnement.
              LOWIS utilise l'IA pour analyser vos données de santé, personnaliser vos plans alimentaires,
              et vous accompagner dans votre parcours.
            </p>
            <p class="text-text-secondary leading-relaxed mb-4">
              <strong class="text-white">Limitation d'usage:</strong> LOWIS se réserve le droit de limiter
              ou modifier l'accès aux fonctionnalités IA en cas d'utilisation excessive ou abusive,
              ou pour des raisons techniques ou économiques. Ces limitations seront communiquées aux
              utilisateurs concernés avec un préavis raisonnable.
            </p>
            <p class="text-blue-400 font-medium">
              L'offre de lancement à 4,99 €/semaine inclut un accès complet à toutes les fonctionnalités IA.
            </p>
          </div>
        </section>

        <!-- Health -->
        <section>
          <h2 class="text-2xl font-bold text-white mb-4">{terms.sections.health.title}</h2>
          <div class="bg-yellow-500/10 border border-yellow-500/30 rounded-xl p-6">
            <p class="text-text-secondary leading-relaxed mb-4">{terms.sections.health.content}</p>
            <p class="text-yellow-500 font-medium">{terms.sections.health.disclaimer}</p>
          </div>
        </section>

        <!-- User Content -->
        <section>
          <h2 class="text-2xl font-bold text-white mb-4">{terms.sections.userContent.title}</h2>
          <p class="text-text-secondary leading-relaxed mb-4">{terms.sections.userContent.intro}</p>
          <ul class="space-y-2 mb-4">
            {terms.sections.userContent.items.map((item: string) => (
              <li class="text-text-secondary flex items-start gap-2">
                <span class="material-symbols-outlined text-sm text-red-500 mt-1">close</span>
                {item}
              </li>
            ))}
          </ul>
          <p class="text-text-secondary">{terms.sections.userContent.license}</p>
        </section>

        <!-- Intellectual Property -->
        <section>
          <h2 class="text-2xl font-bold text-white mb-4">{terms.sections.intellectualProperty.title}</h2>
          <p class="text-text-secondary leading-relaxed">{terms.sections.intellectualProperty.content}</p>
        </section>

        <!-- Liability -->
        <section>
          <h2 class="text-2xl font-bold text-white mb-4">{terms.sections.liability.title}</h2>
          <p class="text-text-secondary leading-relaxed">{terms.sections.liability.content}</p>
        </section>

        <!-- Termination -->
        <section>
          <h2 class="text-2xl font-bold text-white mb-4">{terms.sections.termination.title}</h2>
          <p class="text-text-secondary leading-relaxed">{terms.sections.termination.content}</p>
        </section>

        <!-- Modifications -->
        <section>
          <h2 class="text-2xl font-bold text-white mb-4">{terms.sections.modifications.title}</h2>
          <p class="text-text-secondary leading-relaxed">{terms.sections.modifications.content}</p>
        </section>

        <!-- Law -->
        <section>
          <h2 class="text-2xl font-bold text-white mb-4">{terms.sections.law.title}</h2>
          <p class="text-text-secondary leading-relaxed">{terms.sections.law.content}</p>
        </section>

        <!-- Contact -->
        <section>
          <h2 class="text-2xl font-bold text-white mb-4">{terms.sections.contact.title}</h2>
          <p class="text-text-secondary leading-relaxed mb-4">{terms.sections.contact.content}</p>
          <div class="bg-dark-surface rounded-xl p-6 border border-dark-border inline-block">
            <p><strong class="text-white">{terms.sections.contact.emailLabel}:</strong> <a href={`mailto:${COMPANY.email}`} class="text-primary-orange hover:underline">{COMPANY.email}</a></p>
          </div>
        </section>

      </div>

      <!-- Back to home -->
      <div class="mt-16 text-center">
        <a href={getPathWithLang('/', lang)} class="inline-flex items-center gap-2 text-text-secondary hover:text-white transition-colors">
          <span class="material-symbols-outlined">arrow_back</span>
          Retour à l'accueil
        </a>
      </div>
    </div>
  </main>

  <Footer t={t} lang={lang} />
</Layout>

<style>
  .gradient-text {
    background: linear-gradient(135deg, #F97316, #DC2626);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
</style>
